import React, { useState, useEffect } from 'react';

const shops = [
    "èˆè®šç´…èŒ¶å†° é¾œå±±ä¸­èˆˆåº—",
    "ç‰æ´¥å’–å•¡ æ¡ƒåœ’é¾œå±±åº—",
    "å¾—æ­£ OOLONG TEA PROJECT æ¡ƒåœ’ä¸­èˆˆè¨ˆåŠƒ",
    "Who's Tea é¬å­èŒ¶ é¾œå±±åº—",
    "æ¸…å¿ƒç¦å…¨ é¾œå±±ä¸­èˆˆåº—",
    "æ—¥å‡ºå®¢æ£§èŒ¶é£² å°è¾²é®®å¥¶ é¾œå±±ä¸­å’Œå—åº—",
    "å³å®¶ç´…èŒ¶å†° æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "å¤§è‹‘å­ é¾œå±±ä¸­èˆˆåº—",
    "ç´…èŒ¶åª½åª½ æ¡ƒåœ’é¾œå±±åº—",
    "è€è³´èŒ¶æ£§ æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "é¶´èŒ¶æ¨“ é¶´é ‚ç´…èŒ¶å•†åº— æ¡ƒé¶¯åº—",
    "å¾—æ­£ OOLONG TEA PROJECT æ¡ƒé¶¯è¨ˆåŠƒ",
    "çç…®ä¸¹ æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "æ©˜å­å·¥åŠé¾œå±±åº—",
    "æ­¦æ—èŒ¶ æ¡ƒåœ’å…«å¾·åº—",
    "å¾¡ç§è—é®®å¥¶èŒ¶å°ˆè³£åº— æ¡ƒåœ’æ°‘ç”Ÿåº—",
    "ç‰æ´¥å’–å•¡ æ¡ƒåœ’ç«™å‰åº—",
    "é¾œè¨˜èŒ—å“ é¾œå±±ä¸­èˆˆåº—",
    "å“ˆèŒ¶å€",
    "å¥½äº†å•¦ç´…èŒ¶å†° é¾œå±±è‡ªå¼·åº—",
    "é­šæ± æ–°èª æ¡ƒå¸‚ä¸­å±±æ±åº—",
    "æ‹¾æ±£èŒ¶å±‹ é¾œå±±è¬å£½åº—",
    "ç‰æ´¥å’–å•¡ æ¡ƒé¶¯é³³é³´åº—",
    "çƒå¼„ å…«å¾·æ¡ƒé¶¯åº—",
    "æœæ¡è©¦åš",
    "ç™½å··å­ æ¡ƒå¸‚æ˜¥æ—¥åº—",
    "æ‹¾æ±£èŒ¶å±‹ æ¡ƒåœ’æ°‘æ—åº—",
    "ã„šå¯¶Lemon æ¡ƒåœ’å¤§åŒåº—",
    "ç‰æ´¥å’–å•¡ æ¡ƒåœ’å¯¶å±±åº—",
    "æ–°äº•èŒ¶é¶¯æ­Œåº—",
    "æ˜¥é™½èŒ¶äº‹ æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "TEA TOPç¬¬ä¸€å‘³ æ¡ƒåœ’å¾©èˆˆåº—",
    "æ—ä¸‰èŒ¶ç ”æ‰€ æ¡ƒé¶¯åº—",
    "ç„¡é£² æ¡ƒåœ’åº—",
    "æ‹¾æ±£èŒ¶å±‹ å¤§æ¹³åº—",
    "é¾è§’ Dragon Horn æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "èŠ±è·¯æ‰‹ä½œé£² æ¡ƒåœ’ä¸­å±±åº—",
    "åŠŸå¤«èŒ¶KUNGFUTEA æ¡ƒåœ’ä¸­æ­£åº—",
    "ç”˜èƒé®®é£²èŒ¶ ä¸­å±±åº—",
    "è»èŒ¶ æ¡ƒåœ’æ°¸å®‰åº—",
    "å±±ç„™ æˆåŠŸæ°‘ç”Ÿåº—",
    "å·´å¸å…‹ æ¡ƒåœ’æ°‘æ¬Šåº—",
    "Sulinaå¥¶èŒ¶ è²“çˆªç‰›å¥¶å‡",
    "é»›é»›èŒ¶ DailyDae æ¡ƒåœ’å…«å¾·åº—",
    "åšå‘³èŒ¶ç† ä»‹å£½åº—",
    "éº»å¤èŒ¶åŠMACU TEA æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "ç„¡é£² å…«å¾·å’Œå¹³åº—",
    "ç”˜è”—ã®åª½åª½ æ¡ƒåœ’ç«™å‰åº—",
    "åŠç³–å°‘å†° å—å¹³åº—",
    "ç‰æ´¥å’–å•¡ å…«å¾·åº—",
    "Chatime å…«å¾·å»£ç¦åº—",
    "è¬æ³¢ æ¡ƒåœ’ä¸­æ­£åº—",
    "è²“é ­é·¹èŒ¶æ£®æ— æ¡ƒåœ’ä¸­æ­£åº—",
    "æ€èŒ¶ æ¡ƒåœ’ä¸­æ­£åº—",
    "æ˜¥å’ŒèŒ¶æ°´æ”¤ æ¡ƒåœ’å£½æ˜Œåº—",
    "å¾—æ­£ OOLONG TEA PROJECT æ¡ƒåœ’ä¸­æ­£è¨ˆåŠƒ",
    "ä¸ƒç›èŒ¶ æ¡ƒåœ’å¤§èˆˆåº—",
    "CoCoéƒ½å¯ é³³é³´",
    "ç¦®æƒ³ç´…èŒ¶çƒé¾å°ˆè²©æ‰€ æ¡ƒåœ’ä¸­æ­£æ‰€",
    "ç‰æ´¥å’–å•¡ è—æ–‡åº—",
    "è•æ·¶æ¸…é£²Chillax Drink",
    "åˆ©å®¢åŠå¥¶è“‹å°ˆé–€åº— æ¡ƒåœ’å»£è±åº—",
    "ä¸€å‹ºå’–å•¡ æ¡ƒåœ’é™½æ˜é¤¨",
    "Tree double åŒæ¨¹èŒ¶é£²",
    "ç‰æ´¥å’–å•¡ æ¡ƒåœ’æ³°æ˜Œåº—",
    "50åµ æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "COMEBUY æ¡ƒåœ’æ¡ƒé¶¯",
    "å°é‡‘æ—ºèŒ¶åŠ æ¡ƒåœ’ä¸­æ­£åº—",
    "å…ˆå–é“ è—æ–‡åº—",
    "èŒ¶æ¹¯æœƒ æ¡ƒåœ’ä¸­æ­£åº—",
    "ä»™è‰å“¥ä¸ƒåå…­è™Ÿ",
    "FEISIANGå•¡é¥— å¸‚åºœåº—",
    "ä¸Šå®‡æ— å…«å¾·ä»‹å£½åº—",
    "æ»¿ä¸Šä»™è‰èŒ¶é£²å°ˆè³£åº— æ¡ƒåœ’å¤§æœ‰åº—",
    "æ—ä¸‰èŒ¶ç ”æ‰€ æ¡ƒåœ’å—å¹³åº—",
    "æ—è¨˜å¤æ„å¥¶èŒ¶ å…«å¾·åº—",
    "GOTCHA é®®é¥—èŒ¶ æ¡ƒåœ’å…«å¾·åº—",
    "COMEBUY æ¡ƒåœ’å»¶å¹³",
    "åšå‘³èŒ¶ç†-æ¡ƒé¶¯åº—",
    "èŒ¶æ°´æ£§",
    "ä¸Šå®‡æ— å…«å¾·æ¡ƒé¶¯åº—",
    "å¯ä¸å¯ç†Ÿæˆç´…èŒ¶ å…«å¾·æ¡ƒé¶¯åº—",
    "é®®èŒ¶é“ æ¡ƒåœ’å¤§åŒåº—",
    "ä¸€æ²æ—¥ å…«å¾·ä»‹å£½åº—",
    "é›è›‹ç³• X ç´…èŒ¶å†°",
    "å°é‡‘æ—ºèŒ¶åŠ æ­¦é™µé«˜ä¸­åº—",
    "å…ˆå–é“ é¶¯æ­Œå»ºåœ‹åº—",
    "Tea's åŸå‘³ é¾œå±±ä¸­èˆˆåº—",
    "é‡‘èŒ¶ä¼ æ¡ƒåœ’ä¸­æ­£é–€å¸‚",
    "å°ç¶ æ´²å’–å•¡ Tiny Greeny Cafe",
    "æº™æ¸¯èŒ¶é£²",
    "äº”æ¡è™ŸWooTEA é¶¯æ­Œå»ºåœ‹åº—",
    "æŸ¥ç†åœ‹ç‹é£²å“å°ˆè³£ å»£ç¦åº—",
    "æ˜¥æ°´å ‚ æ¡ƒåœ’è—æ–‡åº—",
    "æ™¨é–“å»šæˆ¿ æ¡ƒåœ’å±±é¶¯åº—",
    "COMEBUY æ¡ƒåœ’è¿´é¾åº—",
    "æ¸…åŸèŠ‹åœ“ æ¡ƒåœ’å—å¹³åº—",
    "YOGU ç§å»šé£²å“ å„ªæ ¼é£²",
    "Jazz Tea å°±æ˜¯èŒ¶",
    "Louisa è·¯æ˜“è æ¡ƒé¶¯åº—",
    "æŸ¥å¾· æœèŒ¶ ç‰¹èª¿",
    "å¤šé‚£ä¹‹å’–å•¡Donutesæ¡ƒåœ’å¾©èˆˆåº—",
    "ç†Šå¥½é‹å’–å•¡ GULAK COFFEE",
    "cama cafÃ© æ¡ƒåœ’è–ä¿ç¥¿åº—",
    "85åº¦C æ¡ƒåœ’åŒ—èˆˆåº—",
    "Zan coffee è¶Šå—å’–å•¡ï½œéºµåŒ…",
    "éº—å¤ªå’–å•¡ Mrs Li Cafe",
    "è€çª©å’–å•¡ ä¸­å±±æ±åº—",
    "é˜¿å©†å’–å•¡-ä¸‰æ°‘åº—",
    "è²³æ‹¾ç©—å’–å•¡ æ¡ƒåœ’åº—",
    "KOMEDA'S COFFEE å®¢ç¾å¤šå’–å•¡ æ¡ƒåœ’è—æ–‡åº—",
    "ç¨‹ç¾å’–å•¡",
    "92åº¦åŠå’–å•¡ æ¡ƒåœ’æ…ˆæ–‡åº—",
    "å¥½èŠ‹é€ Good Omens",
    "ç´…è“å’–å•¡ æ¡ƒåœ’ç¶“åœ‹åº—",
    "è¿·å®¢å¤ Milksha æ¡ƒåœ’æ¡ƒé¶¯åº—",
    "èŒ¶èš æ¡ƒåœ’ä¸­è¯åº—",
    "é®®èŒ¶é“ æ¡ƒåœ’æ˜¥æ—¥ä¸€åº—",
    "åˆé †é’è‰èŒ¶",
    "è“é»å­ æ˜¥æ—¥åº—",
    "é®®èŒ¶é“ æ¡ƒåœ’é™½æ˜å…¬åœ’åº—",
    "TINAéºµåŒ…å’–å•¡ æ¡ƒåœ’åº—",
    "é¼æ·³æ‰‹ä½œèŒ¶é£²",
    "å¿µå¿µæ³¡æ²«ç´…èŒ¶åº— æ¡ƒåœ’å¯¶å±±åº—",
    "ä¸€æ‰‹ç§è—ä¸–ç•Œç´…èŒ¶ æ¡ƒåœ’å—å¹³åº—",
    "ç´…èŒ¶å¸åœ‹ æ¡ƒåœ’æ˜¥æ—¥åº—"
];

const ShopSelector = () => {
    const [currentShop, setCurrentShop] = useState('');
    const [isSelecting, setIsSelecting] = useState(false);
    const [finalShop, setFinalShop] = useState('');
    const [speed, setSpeed] = useState(50);

    useEffect(() => {
        let interval;
        if (isSelecting) {
            interval = setInterval(() => {
                const randomShop = shops[Math.floor(Math.random() * shops.length)];
                setCurrentShop(randomShop);
                setSpeed(prev => Math.min(prev * 1.05, 300)); // é€æ¼¸æ¸›æ…¢é€Ÿåº¦
            }, speed);
        }
        return () => clearInterval(interval);
    }, [isSelecting, speed]);

    const startSelection = () => {
        setIsSelecting(true);
        setFinalShop('');
        setSpeed(50);
        
        // 3ç§’å¾Œåœæ­¢é¸æ“‡
        setTimeout(() => {
            setIsSelecting(false);
            const selected = shops[Math.floor(Math.random() * shops.length)];
            setFinalShop(selected);
            setCurrentShop(selected);
        }, 3000);
    };

    return (
        <div className="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
            <div className="bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full">
                <h1 className="text-3xl font-bold text-center mb-8 text-indigo-600">
                    é£²æ–™åº—éš¨æ©Ÿé¸æ“‡å™¨
                </h1>
                
                <div className="min-h-32 flex items-center justify-center mb-8">
                    <div className={`text-2xl font-semibold text-center ${
                        isSelecting 
                            ? 'text-blue-500 animate-pulse' 
                            : finalShop 
                                ? 'text-green-600' 
                                : 'text-gray-400'
                    }`}>
                        {currentShop || 'è«‹é»æ“Šé–‹å§‹é¸æ“‡'}
                    </div>
                </div>
                
                <div className="flex justify-center">
                    <button
                        onClick={startSelection}
                        disabled={isSelecting}
                        className={`
                            px-6 py-3 rounded-lg text-white font-semibold
                            ${isSelecting 
                                ? 'bg-gray-400 cursor-not-allowed' 
                                : 'bg-indigo-600 hover:bg-indigo-700 transform hover:scale-105 transition'}
                        `}
                    >
                        {isSelecting ? 'é¸æ“‡ä¸­...' : 'é–‹å§‹é¸æ“‡'}
                    </button>
                </div>
                
                {finalShop && !isSelecting && (
                    <div className="mt-8 text-center">
                        <div className="text-lg text-gray-600">ğŸ‰ é¸æ“‡çµæœ ğŸ‰</div>
                        <div className="text-2xl font-bold text-indigo-600 mt-2">
                            {finalShop}
                        </div>
                    </div>
                )}
            </div>
        </div>
    );
};

export default ShopSelector;